---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

// ContactPage schema for SEO
const contactPageSchema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "Contact SparkHost.ie",
  "description": "Get in touch with SparkHost.ie for WordPress hosting enquiries. Irish-based support team ready to help.",
  "url": "https://sparkhost.ie/contact",
  "mainEntity": {
    "@type": "Organization",
    "name": "SparkHost.ie",
    "url": "https://sparkhost.ie",
    "email": "hello@sparkhost.ie",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "IE",
      "addressLocality": "Dublin"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "hello@sparkhost.ie",
      "availableLanguage": "English",
      "hoursAvailable": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        "opens": "09:00",
        "closes": "18:00"
      }
    }
  }
};

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://sparkhost.ie"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Contact",
      "item": "https://sparkhost.ie/contact"
    }
  ]
};
---

<Layout
  title="Contact SparkHost | WordPress Hosting Support Ireland"
  description="Get in touch with SparkHost.ie for WordPress hosting enquiries. Irish-based support team ready to help. Email, phone or book a free call."
>
  <!-- Structured Data / Schema Markup -->
  <script type="application/ld+json" set:html={JSON.stringify(contactPageSchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />

  <Header currentPath="/contact" />

  <main>
    <!-- Hero Section -->
    <section class="pt-32 pb-12">
      <div class="container">
        <div class="text-center max-w-2xl mx-auto">
          <span class="inline-block text-[var(--color-spark-orange)] text-sm font-semibold tracking-wider uppercase mb-4">WordPress Hosting Support Ireland</span>
          <h1 class="text-4xl md:text-5xl font-bold mb-6" style="font-family: var(--font-display);">
            Contact <span class="text-gradient-spark">SparkHost</span>
          </h1>
          <p class="text-xl text-white/60">
            Have questions about <strong class="text-white/80">WordPress hosting in Ireland</strong>? Book a free 30-minute call, or send us a message. Our <a href="/about" class="text-[var(--color-spark-orange)] hover:underline">Dublin-based team</a> typically responds within 4 hours during business hours.
          </p>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <section class="pb-16">
      <div class="container">
        <div class="grid lg:grid-cols-2 gap-10">
          <!-- Cal.com Booking -->
          <div>
            <h2 class="text-xl font-bold mb-4" style="font-family: var(--font-display);">Book a Free WordPress Hosting Consultation</h2>
            <p class="text-white/60 text-sm mb-6">Pick a time that works for you. We'll discuss your <a href="/services" class="text-[var(--color-spark-orange)] hover:underline">hosting needs</a>. No pressure, no sales pitch.</p>
            <div class="card-glass p-4 overflow-hidden">
              <div id="sparkhost-booking" class="min-h-[550px] rounded-lg overflow-hidden"></div>
            </div>
          </div>

          <!-- Contact Form -->
          <div>
            <h2 class="text-xl font-bold mb-4" style="font-family: var(--font-display);">Send a WordPress Hosting Enquiry</h2>
            <p class="text-white/60 text-sm mb-6">Questions about our <a href="/pricing" class="text-[var(--color-spark-orange)] hover:underline">hosting plans</a>? We'll get back to you within one business day.</p>

            <form id="contact-form" class="card-glass p-6 space-y-5">
              <div>
                <label for="name" class="block text-sm font-medium text-white mb-2">Name <span class="text-[var(--color-spark-red)]">*</span></label>
                <input type="text" id="name" name="name" required class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:border-[var(--color-spark-orange)] focus:outline-none transition-colors" placeholder="Your name" />
              </div>

              <div>
                <label for="email" class="block text-sm font-medium text-white mb-2">Email <span class="text-[var(--color-spark-red)]">*</span></label>
                <input type="email" id="email" name="email" required class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:border-[var(--color-spark-orange)] focus:outline-none transition-colors" placeholder="you@company.com" />
              </div>

              <div>
                <label for="website" class="block text-sm font-medium text-white mb-2">Website URL <span class="text-white/40">(optional)</span></label>
                <input type="url" id="website" name="website" class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:border-[var(--color-spark-orange)] focus:outline-none transition-colors" placeholder="https://yourwebsite.ie" />
              </div>

              <div>
                <label for="plan" class="block text-sm font-medium text-white mb-2">Interested In <span class="text-white/40">(optional)</span></label>
                <select id="plan" name="plan" class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-[var(--color-spark-orange)] focus:outline-none transition-colors appearance-none cursor-pointer" style="background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22rgba(255,255,255,0.4)%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3E%3Cpolyline points=%226 9 12 15 18 9%22%3E%3C/polyline%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1rem;">
                  <option value="" class="bg-[var(--color-midnight)]">Select a plan...</option>
                  <option value="standard" class="bg-[var(--color-midnight)]">Standard (€40/month)</option>
                  <option value="managed" class="bg-[var(--color-midnight)]">Managed (€249/month)</option>
                  <option value="not-sure" class="bg-[var(--color-midnight)]">Not sure yet</option>
                </select>
              </div>

              <div>
                <label for="message" class="block text-sm font-medium text-white mb-2">Message <span class="text-[var(--color-spark-red)]">*</span></label>
                <textarea id="message" name="message" required rows="4" class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:border-[var(--color-spark-orange)] focus:outline-none transition-colors resize-none" placeholder="Tell us about your website..."></textarea>
              </div>

              <div class="flex items-start gap-3">
                <input type="checkbox" id="privacy" name="privacy" required class="mt-1 w-4 h-4 rounded border-white/20 bg-white/5 text-[var(--color-spark-orange)]" />
                <label for="privacy" class="text-sm text-white/60">
                  I agree to the <a href="/privacy" class="text-[var(--color-spark-orange)] hover:underline">Privacy Policy</a> and <a href="/terms" class="text-[var(--color-spark-orange)] hover:underline">Terms of Service</a>.
                </label>
              </div>

              <button type="submit" class="btn-spark w-full justify-center" id="submit-btn" title="Send WordPress hosting enquiry">
                <span id="btn-text">Send Message</span>
                <svg id="btn-arrow" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                </svg>
              </button>

              <div id="success-message" class="hidden p-4 rounded-lg bg-green-500/10 border border-green-500/20 text-green-400 text-center text-sm">
                <p class="font-semibold">Message sent!</p>
                <p class="text-green-400/70">We'll be in touch within one business day.</p>
              </div>

              <div id="error-message" class="hidden p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-center text-sm">
                <p class="font-semibold">Something went wrong</p>
                <p class="text-red-400/70">Please email us at hello@sparkhost.ie</p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Info - Light Section -->
    <section class="py-12 section-light">
      <div class="container">
        <div class="container-narrow mx-auto">
          <div class="grid sm:grid-cols-3 gap-4">
            <div class="card-light p-5 text-center">
              <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--color-spark-red)]/10 to-[var(--color-spark-orange)]/10 flex items-center justify-center mx-auto mb-3">
                <svg class="w-5 h-5 text-[var(--color-spark-red)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <h3 class="font-semibold text-sm mb-1 text-[var(--color-text-dark)]">Email Support</h3>
              <a href="mailto:hello@sparkhost.ie" class="text-[var(--color-spark-red)] text-sm hover:underline">hello@sparkhost.ie</a>
            </div>

            <div class="card-light p-5 text-center">
              <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--color-spark-red)]/10 to-[var(--color-spark-orange)]/10 flex items-center justify-center mx-auto mb-3">
                <svg class="w-5 h-5 text-[var(--color-spark-red)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 class="font-semibold text-sm mb-1 text-[var(--color-text-dark)]">Fast Response Time</h3>
              <p class="text-gray-500 text-sm">Same business day</p>
            </div>

            <div class="card-light p-5 text-center">
              <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--color-spark-red)]/10 to-[var(--color-spark-orange)]/10 flex items-center justify-center mx-auto mb-3">
                <svg class="w-5 h-5 text-[var(--color-spark-red)]" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                </svg>
              </div>
              <h3 class="font-semibold text-sm mb-1 text-[var(--color-text-dark)]">WhatsApp Support</h3>
              <p class="text-gray-500 text-sm">For existing clients</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Link -->
    <section class="py-8">
      <div class="container">
        <div class="text-center">
          <p class="text-white/60 text-sm">
            Have questions? Check our <a href="/faq" class="text-[var(--color-spark-orange)] hover:underline">FAQ page</a>.
          </p>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script is:inline>
  (function (C, A, L) {
    let p = function (a, ar) { a.q.push(ar); };
    let d = C.document;
    C.Cal = C.Cal || function () {
      let cal = C.Cal;
      let ar = arguments;
      if (!cal.loaded) {
        cal.ns = {};
        cal.q = cal.q || [];
        d.head.appendChild(d.createElement("script")).src = A;
        cal.loaded = true;
      }
      if (ar[0] === L) {
        const api = function () { p(api, arguments); };
        const namespace = ar[1];
        api.q = api.q || [];
        if (typeof namespace === "string") {
          cal.ns[namespace] = cal.ns[namespace] || api;
          p(cal.ns[namespace], ar);
          p(cal, ["initNamespace", namespace]);
        } else p(cal, ar);
        return;
      }
      p(cal, ar);
    };
  })(window, "https://app.cal.com/embed/embed.js", "init");

  Cal("init", "sparkhost", {origin: "https://app.cal.com"});
  Cal.ns["sparkhost"]("inline", {
    elementOrSelector: "#sparkhost-booking",
    config: {"layout": "month_view", "theme": "dark"},
    calLink: "everblue/30min",
  });
</script>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const submitBtn = document.getElementById('submit-btn');
  const btnText = document.getElementById('btn-text');
  const btnArrow = document.getElementById('btn-arrow');
  const successMessage = document.getElementById('success-message');
  const errorMessage = document.getElementById('error-message');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    successMessage?.classList.add('hidden');
    errorMessage?.classList.add('hidden');

    if (btnText) btnText.textContent = 'Sending...';
    btnArrow?.classList.add('hidden');
    submitBtn?.setAttribute('disabled', 'true');

    try {
      await new Promise(resolve => setTimeout(resolve, 1500));
      successMessage?.classList.remove('hidden');
      form.reset();
    } catch (error) {
      errorMessage?.classList.remove('hidden');
    } finally {
      if (btnText) btnText.textContent = 'Send Message';
      btnArrow?.classList.remove('hidden');
      submitBtn?.removeAttribute('disabled');
    }
  });
</script>

<style>
  input[type="checkbox"] {
    appearance: none;
    width: 1rem;
    height: 1rem;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 0.25rem;
    background: rgba(255, 255, 255, 0.05);
    cursor: pointer;
    position: relative;
  }
  input[type="checkbox"]:checked {
    background: var(--color-spark-orange);
    border-color: var(--color-spark-orange);
  }
  input[type="checkbox"]:checked::after {
    content: '';
    position: absolute;
    left: 4px;
    top: 1px;
    width: 4px;
    height: 8px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }
</style>
